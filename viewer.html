
<!doctype html><html lang="ko"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mosaic Viewer</title>
<style>
  body{margin:0;background:#111;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans CJK KR,sans-serif}
  .wrap{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .panzoom{touch-action:none;will-change:transform;cursor:grab;max-width:none;user-select:none}
  .hint{position:fixed;bottom:12px;left:12px;opacity:.8;font-size:14px}
</style></head><body>
<div class="wrap"><img id="img" class="panzoom" src="mosaic_large.jpg" alt="mosaic"/></div>
<div class="hint">휠/핀치로 확대, 드래그로 이동</div>
<script>
const img=document.getElementById('img');let s=1,x=0,y=0,sx=0,sy=0,drag=false;
function apply(){img.style.transform=`translate(${x}px, ${y}px) scale(${s})`;}
img.addEventListener('mousedown',e=>{drag=true;img.style.cursor='grabbing';sx=e.clientX-x;sy=e.clientY-y;});
window.addEventListener('mousemove',e=>{if(!drag)return;x=e.clientX-sx;y=e.clientY-sy;apply();});
window.addEventListener('mouseup',()=>{drag=false;img.style.cursor='grab';});
let ld=null;
img.addEventListener('touchstart',e=>{
  if(e.touches.length===1){sx=e.touches[0].clientX-x;sy=e.touches[0].clientY-y;}
  else if(e.touches.length===2){
    const dx=e.touches[0].clientX-e.touches[1].clientX;
    const dy=e.touches[0].clientY-e.touches[1].clientY;
    ld=Math.hypot(dx,dy);
  }
},{passive:false});
img.addEventListener('touchmove',e=>{
  e.preventDefault();
  if(e.touches.length===1){x=e.touches[0].clientX-sx;y=e.touches[0].clientY-sy;apply();}
  else if(e.touches.length===2){
    const dx=e.touches[0].clientX-e.touches[1].clientX;
    const dy=e.touches[0].clientY-e.touches[1].clientY;
    const d=Math.hypot(dx,dy);
    if(ld){const f=d/ld;s=Math.min(20,Math.max(.1,s*f));apply();}
    ld=d;
  }
},{passive:false});
window.addEventListener('wheel',e=>{
  const f=Math.sign(e.deltaY)>0?.9:1.1;
  s=Math.min(20,Math.max(.1,s*f));apply();
},{passive:true});
</script></body></html>